# 项目规划

## 前端页面与功能规划

### 一、公共页面 (无需登录)

1. **首页 / 动物列表展示页 (`/` 或 `/animals`)**

    - 功能

      :

        - 分页显示所有动物信息（图片、名称、种类、年龄等）。
        - 提供搜索功能（按名称、种类、性别、品种等筛选）。
        - 点击动物卡片/条目可以跳转到动物详情页。

    - 对应接口

      :

        - `POST /animal/page` (分页查询动物列表)

2. **动物详情页 (`/animal/:id`)**

    - 功能

      :

        - 展示特定动物的详细信息（所有字段）。
        - 如果用户已登录，可以提供“申请领养”按钮。

    - 对应接口

      :

        - `GET /animal/id` (根据id查询动物)

3. **用户登录页 (`/login`)**

    - 功能

      :

        - 提供用户名、密码输入框。
        - 登录成功后跳转到用户首页或来源页，并保存用户登录状态（如 token）。
        - 显示登录失败的错误提示。

    - 对应接口

      :

        - `POST /user/login` (用户登录)

4. **用户注册页 (`/register`)**

    - 功能

      :

        - 提供注册表单（用户名、密码、邮箱、电话等）。
        - 包含文件上传功能用于上传头像 (`profilePicture`)。
        - 注册成功后可提示用户登录或自动登录。
        - 显示注册失败的错误提示。

    - 对应接口

      :

        - `POST /user/register` (用户注册)
        - `POST /common/upload` (文件上传，用于头像)

------

### 二、普通用户页面 (需登录)

1. **用户个人中心/首页 (例如 `/profile` 或 `/user/dashboard`)**

    - 功能

      :

        - 显示用户基本信息。
        - 可能提供修改个人信息的入口（虽然文档中没有明确的修改用户信息接口，但通常会有，可以预留）。
        - 导航到“我的领养申请”。

2. **我的领养申请列表页 (`/user/applications`)**

    - 功能

      :

        - 分页显示当前用户的所有领养申请及其状态（待审核、已通过、已拒绝、已撤回）。
        - 可以查看申请详情。
        - 对未处理的申请提供“撤回申请”功能。

    - 对应接口

      :

        - `POST /application/page` (申请领养表分页查询 - 需要根据当前登录用户ID进行筛选，后端接口设计上可能需要调整或前端传入`userId`参数)
        - `GET /application/getById` (根据ID查询申请领养表，用于查看详情)
        - `DELETE /application/delete` (用户撤回申请领养表)

3. **提交领养申请页/弹窗 (通常在动物详情页操作)**

    - 功能

      :

        - 当用户在动物详情页点击“申请领养”后，弹出或跳转到此页面。
        - 表单包含申请理由 (`applicationReason`)。
        - 提交申请。

    - 对应接口

      :

        - `POST /application/add` (申请领养表新增)

------

### 三、管理员页面 (需登录且具有管理员权限)

通常会有一个后台管理系统布局，包含侧边栏导航和主内容区。

1. **管理员仪表盘 (例如 `/admin/dashboard`)**

    - 功能

      :

        - 可选，用于展示一些统计信息，如待处理申请数、动物总数、用户总数等。

2. **动物管理页 (`/admin/animals`)**

    - 功能

      :

        - 分页显示所有动物列表。
        - 提供搜索和筛选功能。
        - **添加动物**: 跳转到添加动物表单页。
        - **修改动物**: 跳转到修改动物表单页。
        - **删除动物**: 直接删除或二次确认后删除。

    - 对应接口

      :

        - `POST /animal/page` (分页查询动物列表)
        - `POST /animal/add` (添加动物) - 表单提交
        - `PUT /animal/animal` (修改动物信息) - 表单提交
        - `DELETE /animal/delete` (删除动物)
        - `POST /common/upload` (文件上传，用于动物图片 `imageUrl`)

3. **添加/修改动物表单页 (例如 `/admin/animal/new` 或 `/admin/animal/edit/:id`)**

    - 功能

      :

        - 包含动物所有信息的表单字段。
        - 文件上传功能用于动物图片。

    - 对应接口

      :

        - `POST /animal/add` (添加时)
        - `PUT /animal/animal` (修改时)
        - `GET /animal/id` (修改时，用于加载初始数据)
        - `POST /common/upload` (文件上传)

4. **用户管理页 (`/admin/users`)**

    - 功能

      :

        - 分页显示所有用户信息。
        - 提供搜索和筛选功能（按用户名、邮箱、电话、角色、状态等）。
        - **冻结用户**: 修改用户状态。
        - **解冻用户**: 修改用户状态。

    - 对应接口

      :

        - `POST /admin/pageUser` (用户分页查询)
        - `POST /admin/freezeUser` (冻结用户)
        - `POST /admin/unfreezeUser` (解冻用户)

5. **领养申请管理页 (`/admin/applications`)**

    - 功能

      :

        - 分页显示所有用户的领养申请。
        - 提供搜索和筛选功能（按用户ID、动物ID、申请状态等）。
        - 查看申请详情。
        - **同意申请**: 修改申请状态，可能需要填写审核意见。
        - **拒绝申请**: 修改申请状态，必须填写审核意见 (`reviewComments`)。
        - **删除申请**: （管理员删除申请记录，区别于用户撤回）。

    - 对应接口

      :

        - `POST /admin/page` (申请领养表分页查询 - 管理员版本)
        - `GET /admin/getById` (根据ID查询申请领养表 - 管理员版本，用于查看详情或审核前加载)
        - `POST /admin/admitApplication` (管理员同意审核申请)
        - `POST /admin/rejectApplication` (管理员拒绝审核申请)
        - `DELETE /admin/delete` (删除申请领养表 - 管理员版本)

6. **领养申请审核详情页/弹窗 (例如 `/admin/application/review/:id`)**

    - 功能

      :

        - 显示申请的详细信息。
        - 提供输入审核意见的文本框。
        - “同意”和“拒绝”按钮。

    - 对应接口

      :

        - `GET /admin/getById` (加载申请详情)
        - `POST /admin/admitApplication`
        - `POST /admin/rejectApplication`

------

### 四、通用组件/功能

1. 导航栏

   :

    - 公共导航：首页、动物列表、登录、注册。
    - 用户导航：我的申请、个人中心、退出登录。
    - 管理员导航：管理模块链接、退出登录。

2. 文件上传组件

   :

    - 封装 `POST /common/upload` 接口，用于动物图片和用户头像上传，应包含预览和进度显示。

3. 分页组件

   :

    - 可复用的分页逻辑和UI。

4. 表单组件

   :

    - 可以考虑封装基础表单元素或使用UI库的表单。

5. API服务层

   :

    - 将所有API请求封装成函数，方便管理和调用 (例如使用 Axios)。

6. 状态管理 (Pinia/Vuex)

   :

    - 管理用户登录状态、用户信息、管理员权限等全局状态。

7. 路由守卫

   :

    - 控制页面访问权限，例如未登录用户不能访问用户中心，非管理员不能访问管理员页面。